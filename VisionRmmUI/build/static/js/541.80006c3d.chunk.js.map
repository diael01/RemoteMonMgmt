{"version":3,"file":"static/js/541.80006c3d.chunk.js","mappings":"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","sources":["app-views/dashboards/client/clientForm/ClientField.js","app-views/dashboards/client/clientForm/index.js","app-views/dashboards/client/editClient/index.js","components/layout-components/PageHeaderAlt.js","components/shared-components/Flex/index.js","hooks/ClientHooks.ts","services/client/index.js"],"sourcesContent":["import { Card, Col, Form, Input, Row, Select, Checkbox } from 'antd';\r\nimport React, { useState } from 'react';\r\n\r\n\r\nconst rules = {\r\n\tname: [\r\n\t\t{\r\n\t\t\trequired: true,\r\n\t\t\tmessage: 'Please enter client name',\r\n\t\t}\r\n\t],\r\n\tvat: [\r\n\t\t{\r\n\t\t\trequired: false,\r\n\t\t\tmessage: 'Please enter client VAT',\r\n\t\t}\r\n\t],\r\n\tcompanyNo: [\r\n\t\t{\r\n\t\t\trequired: false,\r\n\t\t\tmessage: 'Please enter client company No',\r\n\t\t}\r\n\t],\r\n\tmailAddress: [\r\n\t\t{\r\n\t\t\trequired: false,\r\n\t\t\tmessage: 'Please enter client mailing Address',\r\n\t\t}\r\n\t],\r\n\tbillAddress: [\r\n\t\t{\r\n\t\t\trequired: false,\r\n\t\t\tmessage: 'Please enter client billing Address',\r\n\t\t}\r\n\t],\r\n\tip: [\r\n\t\t{\r\n\t\t\trequired: true,\r\n\t\t\tmessage: 'Please enter client ip',\r\n\t\t}\r\n\t],\t\r\n\tphone: [\t\t\r\n\t\t{\r\n\t\t\trequired: false,\r\n\t\t\tmessage: 'Please enter client phone',\r\n\t\t}\r\n\t],\r\n\temail: [\t\t\r\n\t\t{\r\n\t\t\trequired: false,\r\n\t\t\tmessage: 'Please enter client email',\r\n\t\t}\r\n\t],\r\n    primaryContact: [\t\t\r\n\t\t{\r\n\t\t\trequired: false,\r\n\t\t\tmessage: 'Please enter client primary Contact',\r\n\t\t}\r\n\t]\r\n}\r\n\r\n\r\n\r\nconst ClientField = props => {\r\n\tconst { param, form, idd } = props;\t\t\r\n\tconst { Option } = Select;\t\r\n\t\t\r\n\tconsole.log(\"idd=\"+idd);\t\r\n\tconst ch = idd>0 ? true:false;\r\n\tconst [checked, setChecked] = useState(true);\t\r\n \tconst [mainId, setMainId] = useState();\t\r\n\t\r\n\t const onChange = (e) => {\r\n\t\tconsole.log('checked = ', e.target.checked);\r\n\t\tsetChecked(e.target.checked);\r\n\t\tsetHidden(!e.target.checked);\r\n\t  };\r\n\t\r\n\tconst handleOnChange = (value, event) => {       \r\n\t\tsetMainId(event.key);\t\t\r\n\t\tform.setFields([{name:\"mainId\", value:event.key}]);\t\r\n    }\t\r\n\r\n\treturn (\t\r\n\t<Row gutter={16}>\r\n\t\t<Col xs={24} sm={24} md={17}>\r\n\t\t\t<Card>\r\n\t\t\t\t<Form.Item name=\"name\" label=\"Client/Site name\" rules={rules.name}>\r\n\t\t\t\t\t<Input placeholder=\"Client/Site Name\" />\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col xs={12} sm={12} md={8}>\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t<Form.Item name=\"isSite\" label=\"Is a Site\" valuePropName=\"checked\">\r\n\t\t\t\t\t\t<Checkbox checked={checked} onChange={onChange}/>               \r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col xs={12} sm={12} md={9}>\r\n\t\t\t\t\t\t<Form.Item name=\"clients\" label=\"Choose Client\" readonly=\"true\" hidden={hidden}>\r\n\t\t\t\t\t\t\t<Select style={{minWidth: 70}}  onSelect={(value, event) => handleOnChange(value, event)}>\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tparam.map(client => <Option key={client.id} value={client.name}></Option>)\r\n\t\t\t\t\t\t\t\t}\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t<Form.Item name=\"ip\" label=\"Wan Ip\" rules={rules.ip}>\r\n\t\t\t\t\t<Input placeholder=\"Wan Ip\" />\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item name=\"companyNo\" label=\"Company No\" hidden={checked} rules={rules.companyNo}>\r\n\t\t\t\t\t<Input placeholder=\"Company No\"/>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item name=\"vat\" label=\"VAT\" hidden={checked} rules={rules.vat}>\r\n\t\t\t\t\t<Input placeholder=\"VAT\"/>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item name=\"mailAddress\" label=\"Mail Address\" rules={rules.mailAddress}>\r\n\t\t\t\t\t<Input.TextArea rows={2} />\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item name=\"billAddress\" label=\"Billing Address\" rules={rules.billAddress}>\r\n\t\t\t\t\t<Input.TextArea rows={2} />\r\n\t\t\t\t</Form.Item>                \r\n                <Form.Item name=\"phone\" label=\"Phone\" rules={rules.phone}>\r\n\t\t\t\t\t<Input placeholder=\"Phone\"/>\r\n\t\t\t\t</Form.Item>\r\n                <Form.Item name=\"email\" label=\"Email\" rules={rules.email}>\r\n\t\t\t\t\t<Input placeholder=\"Email\" />\r\n\t\t\t\t</Form.Item>\r\n                <Form.Item name=\"primaryContact\" label=\"Primary Contact\" rules={rules.primaryContact}>\r\n\t\t\t\t\t<Input placeholder=\"Primary Contact\" />\r\n\t\t\t\t</Form.Item>   \r\n\t\t\t\t<Form.Item name=\"secContact\" label=\"Secondary Contact\" rules={rules.secContact}>\r\n\t\t\t\t\t<Input placeholder=\"Secondary Contact\" />\r\n\t\t\t\t</Form.Item>   \r\n\t\t\t\t<Form.Item name=\"id\" hidden=\"true\">\t\t\t\t\t\r\n\t\t\t\t</Form.Item> \r\n\t\t\t\t<Form.Item name=\"mainId\" hidden=\"true\" >\t\r\n\t\t\t\t\t<Input value={mainId}/>\t\t\t\t\r\n\t\t\t\t</Form.Item>          \r\n\t\t\t</Card>\r\n\t\t\t\r\n\t\t</Col>\t\t\r\n\t</Row>\r\n)\r\n}\r\n\r\n\r\nexport default ClientField\r\n","import { Button, Form, Tabs, message } from 'antd';\r\nimport { useEffect, useState } from 'react';\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport PageHeaderAlt from '../../../../components/layout-components/PageHeaderAlt';\r\nimport Flex from '../../../../components/shared-components/Flex';\r\nimport { useFetchClientsAndSites } from '../../../../hooks/ClientHooks';\r\nimport ClientService from \"../../../../services/client\";\r\nimport ClientField from './ClientField';\r\n\r\n\r\nconst ADD = 'ADD'\r\nconst EDIT = 'EDIT'\r\n\r\nconst ClientForm = props => {\r\n\tconst nav = useNavigate();\r\n\tconst { data, status, isSuccess } = useFetchClientsAndSites();\r\n    const [ClientListData, setClientListData] = useState(data); \r\n\tconst [OnlyClientListData, setOnlyClientListData] = useState(data); \r\n\tconst { mode = ADD, param } = props\r\n\r\n\tconst [form] = Form.useForm();\r\n\tconst [submitLoading, setSubmitLoading] = useState(false)\r\n\tconst [idd, setIdd] = useState();\r\n\r\n\tuseEffect(() => {\t\t\r\n    \tif(mode === EDIT) {\r\n\t\t\tconsole.log('is edit')\t\t\t\r\n\t\t\tconst { id } = param\t\t\t\r\n\t\t\tconst clientData = ClientListData.filter( client => client.id === parseInt(id))\r\n\t\t\tsetOnlyClientListData(ClientListData.filter( client => client.mainId == null));\r\n\t\t\tconst client = clientData[0];\t\t\t\t\r\n\t\t\t\r\n\t\t\tform.setFieldsValue({\r\n\t\t\t\tid:client.id,\r\n\t\t\t\tname: client.name,\r\n\t\t\t\tmainId: client.mainId,\r\n\t\t\t\tbillAddress: client.billAddress,\r\n\t\t\t\tmailAddress: client.mailAddress,\r\n\t\t\t\tip: client.ip,\r\n\t\t\t\tphone: client.phone,\r\n\t\t\t\temail: client.email,\r\n\t\t\t\tcompanyNo: client.companyNo,\r\n\t\t\t\tvat: client.vat,\r\n\t\t\t\tprimaryContact: client.primaryContact,\r\n\t\t\t\tsecContact: client.secContact\r\n\t\t\t});\t\r\n\t\t\tsetIdd(client.mainId);\t\t\t\r\n\t\t}\r\n  \t}, [form, mode, param, props]);\r\n\t\r\n\r\n\tconst onDiscard = () => {\r\n\t\tform.setFieldsValue({\r\n\t\t\tname:\"\",\r\n\t\t\tbillAddress: \"\",\r\n\t\t\tmailAddress: \"\",\r\n\t\t\tip: \"\",\r\n\t\t\tphone: \"\",\r\n\t\t\temail: \"\",\r\n\t\t\tprimaryContact: \"\",\r\n\t\t\tsecContact: \"\",\r\n\t\t\tcompanyNo: \"\",\r\n\t\t\tvat: \"\",\t\r\n\t\t\tmainId: 0\t\t\r\n\t\t});\t\t\t\r\n\t}\r\n\r\n\tconst onFinish = () => {\r\n\t\tsetSubmitLoading(true)\r\n\t\tform.validateFields().then(values => {\r\n\t\t\tsetTimeout(async () => {\r\n\t\t\t\tsetSubmitLoading(false)\t\t\t\t\r\n\t\t\t\tif(mode === ADD) {\t\t\t\t\t\r\n\t\t\t\t\tawait ClientService.add(values);\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\tif(mode === EDIT) {\r\n\t\t\t\t\tawait ClientService.update(values);\t\r\n\t\t\t\t\tform.setFieldsValue({\r\n\t\t\t\t\t\tid:values.id,\r\n\t\t\t\t\t\tname: values.name,\r\n\t\t\t\t\t\tbillAddress: values.billAddress,\r\n\t\t\t\t\t\tmailAddress: values.mailAddress,\r\n\t\t\t\t\t\tip: values.ip,\r\n\t\t\t\t\t\tphone: values.phone,\r\n\t\t\t\t\t\temail: values.email,\r\n\t\t\t\t\t\tcompanyNo: values.companyNo,\r\n\t\t\t\t\t\tvat: values.vat,\r\n\t\t\t\t\t\tprimaryContact: values.primaryContact,\r\n\t\t\t\t\t\tsecContact: values.secContact,\r\n\t\t\t\t\t\tmainId: values.mainId\r\n\t\t\t\t\t});\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}, 1500);\r\n\t\t}).catch(info => {\r\n\t\t\tsetSubmitLoading(false)\r\n\t\t\tconsole.log('info', info)\r\n\t\t\tmessage.error('Please enter all required fields ');\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Form\r\n\t\t\t\tlayout=\"vertical\"\r\n\t\t\t\tform={form}\r\n\t\t\t\tname=\"advanced_search\"\r\n\t\t\t\tclassName=\"ant-advanced-search-form\"\r\n\t\t\t\tinitialValues={{\r\n\t\t\t\t\theightUnit: 'cm',\r\n\t\t\t\t\twidthUnit: 'cm',\r\n\t\t\t\t\tweightUnit: 'kg'\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<PageHeaderAlt className=\"border-bottom\" overlap>\r\n\t\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t\t<Flex className=\"py-2\" mobileFlex={false} justifyContent=\"space-between\" alignItems=\"center\">\r\n\t\t\t\t\t\t\t<h2 className=\"mb-3\">{mode === 'ADD'? 'Add New Client/Site' : `Edit Client/Site`} </h2>\r\n\t\t\t\t\t\t\t<div className=\"mb-3\">\r\n\t\t\t\t\t\t\t\t<Button className=\"mr-2\" onClick={() => onDiscard()}>Discard</Button>\r\n\t\t\t\t\t\t\t\t<Button type=\"primary\" onClick={() => onFinish()} htmlType=\"submit\" loading={submitLoading} >\r\n\t\t\t\t\t\t\t\t\t{mode === 'ADD'? 'Add' : `Save`}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Flex>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</PageHeaderAlt>\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t<Tabs \r\n\t\t\t\t\t\tdefaultActiveKey=\"1\" \r\n\t\t\t\t\t\tstyle={{marginTop: 30}}\r\n\t\t\t\t\t\titems={[\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tlabel: 'Client',\r\n\t\t\t\t\t\t\t\tkey: '1',\r\n\t\t\t\t\t\t\t\tchildren: <ClientField  param={OnlyClientListData} form = {form} idd={idd}/>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t]}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</Form>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default ClientForm","import { useParams } from 'react-router-dom';\r\nimport ClientForm from '../clientForm';\r\n\r\nconst EditClient = () => {\r\n\tconst params = useParams();\r\n\r\n\treturn (\r\n\t\t<ClientForm mode=\"EDIT\" param={params}/>\r\n\t)\r\n}\r\n\r\nexport default EditClient","/** @jsxImportSource @emotion/react */\r\nimport { useRef, useEffect, useState} from 'react';\r\nimport PropTypes from \"prop-types\";\r\nimport { useSelector } from 'react-redux';\r\nimport { css } from '@emotion/react';\r\nimport { TEMPLATE, GRAY_SCALE, NAV_TYPE_TOP, MEDIA_QUERIES } from '../../constants/ThemeConstant';\r\n\r\nexport const PageHeaderAlt = ({children, background, className, overlap}) => {\r\n\tconst [widthOffset, setWidthOffset] = useState(0)\r\n\tconst ref = useRef(null);\r\n\r\n\tconst navType = useSelector(state => state.theme.navType);\r\n\tconst currentTheme = useSelector(state => state.theme.currentTheme);\r\n\r\n  \tuseEffect(() => {\r\n\t\tif (navType === NAV_TYPE_TOP) {\r\n\t\t\tconst windowSize = window.innerWidth\r\n\t\t\tconst pageHeaderSize = ref.current.offsetWidth\r\n\t\t\tsetWidthOffset( (windowSize - pageHeaderSize) / 2 )\r\n\t\t}\r\n\t}, [navType]);\r\n\t\r\n\tconst getStyle = () => {\r\n\t\tlet style = { backgroundImage: background ? `url(${background})` : 'none' } \r\n\t\tif (navType === NAV_TYPE_TOP) {\r\n\t\t\tstyle.marginRight = -widthOffset\r\n\t\t\tstyle.marginLeft = -widthOffset\r\n\t\t\tstyle.paddingLeft = 0\r\n\t\t\tstyle.paddingRight = 0\r\n\t\t}\r\n\t\treturn style\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tref={ref}\r\n\t\t\tcss={css`\r\n\t\t\t\tbackground-color: ${currentTheme === 'dark' ? '#2f3a50' : GRAY_SCALE.WHITE };\r\n\t\t\t\tpadding: ${TEMPLATE.LAYOUT_CONTENT_GUTTER}px;\r\n\t\t\t\tmargin-top: -${TEMPLATE.LAYOUT_CONTENT_GUTTER}px;\r\n\t\t\t\tmargin-left: -${TEMPLATE.LAYOUT_CONTENT_GUTTER}px;\r\n\t\t\t\tmargin-right: -${TEMPLATE.LAYOUT_CONTENT_GUTTER}px;\r\n\r\n\t\t\t\t@media ${MEDIA_QUERIES.MOBILE} {\r\n\t\t\t\t\tmargin-left: -${TEMPLATE.LAYOUT_CONTENT_GUTTER_SM}px;\r\n        \t\t\tmargin-right: -${TEMPLATE.LAYOUT_CONTENT_GUTTER_SM}px;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t${overlap ? 'margin-bottom: -4.6875rem;' : ''}\r\n\t\t\t`}\r\n\t\t\tclassName={`page-header-alt ${className ? className : ''}`} \r\n\t\t\tstyle={getStyle()}\r\n\t\t>\r\n\t\t\t{navType === NAV_TYPE_TOP ? <div className=\"container\">{children}</div> : <>{children}</>}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nPageHeaderAlt.propTypes = {\r\n  \tchildren: PropTypes.node,\r\n\tbackground: PropTypes.string,\r\n\tclassName: PropTypes.string,\r\n\toverlap: PropTypes.bool\r\n};\r\n\r\nexport default PageHeaderAlt;","import styled from '@emotion/styled';\r\n\r\nconst Flex = styled.div(({justifyContent, alignItems, flexDirection, gap, padding, margin}) => {\r\n\r\n\tconst baseStyle = {\r\n\t\tdisplay: 'flex',\r\n\t\tjustifyContent: justifyContent,\r\n\t\talignItems: alignItems,\r\n\t\tgap: typeof gap === 'number' ? `${gap}px` : gap,\r\n\t}\r\n\r\n\tif (flexDirection) {\r\n\t\tbaseStyle.flexDirection = flexDirection\r\n\t}\r\n\r\n\tif (padding) {\r\n\t\tbaseStyle.padding = padding\r\n\t}\r\n\r\n\tif (margin) {\r\n\t\tbaseStyle.margin = margin\r\n\t}\r\n\r\n\treturn {...baseStyle}\r\n})\r\n\r\nexport default Flex\r\n","import axios, { AxiosError, AxiosResponse } from \"axios\";\nimport { useMutation, useQuery, useQueryClient } from \"react-query\";\nimport { useNavigate } from \"react-router-dom\";\nimport { ClientDTO } from \"../types/client\";\nimport Problem from \"../types/problem\";\nimport {  message } from 'antd';\n\n\nconst useFetchClientsAndSites = () => {\n  return useQuery<ClientDTO[], AxiosError>(\"clients\", () =>\n    axios.get(`https://localhost:4001/api/v1/client/GetClientsAndSites`).then((resp) => resp.data)\n  );\n};\n\nconst useFetchClients = () => {\n  return useQuery<ClientDTO[], AxiosError>(\"clients\", () =>\n    axios.get(`https://localhost:4001/api/v1/client/GetClients`).then((resp) => resp.data)\n  );\n};\n\nconst useFetchClient = (id: number) => {\n  return useQuery<ClientDTO, AxiosError>([\"clients\", id], () =>\n    axios.get(`/api/v1/client/${id}`).then((resp) => resp.data)\n  );\n};\n\nconst useAddClient = () => {\n  const queryClient = useQueryClient();\n  const nav = useNavigate();\n  return useMutation<AxiosResponse, AxiosError<Problem>, ClientDTO>(\n    (h) => axios.post(`/api/v1/client/AddClient`, h),\n    {\n      onSuccess: () => {\n        queryClient.invalidateQueries(\"clients\");\n        nav(\"/\");\n      },\n    }\n  );\n};\n\nconst useUpdateClient = () => {\n  const queryClient = useQueryClient();\n  const nav = useNavigate();\n  return useMutation<AxiosResponse, AxiosError<Problem>, ClientDTO>(\n    (h) => axios.put(`/api/v1/client/UpdateClient`, h),\n    {\n      onSuccess: (_, client) => {\n        message.success(`Added ${client.name} to client list`);\n        queryClient.invalidateQueries(\"clients\");\n        nav(`/client/${client.id}`);\n      },\n    }\n  );\n};\n\nconst useDeleteClient = () => {\n  const queryClient = useQueryClient();\n  const nav = useNavigate();\n  return useMutation<AxiosResponse, AxiosError, ClientDTO>(\n    (h) => axios.delete(`/api/v1/client/${h.id}`),\n    {\n      onSuccess: () => {\n        queryClient.invalidateQueries(\"clients\");\n        nav(\"/\");\n      },\n    }\n  );\n};\n\nexport {\n  useAddClient, useDeleteClient, useFetchClient, useFetchClientsAndSites, useUpdateClient\n};\n\n","import axios, { AxiosError, AxiosResponse } from \"axios\";\r\nimport {  message } from 'antd';\r\n\r\nconst  ClientService = {}\r\n\r\nClientService.add = function (data) {\r\n\treturn axios.post(\"/api/v1/client/AddClient\", data)\r\n\t\t\t\t\t\t.then((response) => {\r\n\t\t\t\t\t\t\tmessage.success(`Added ${data.name} to client list`);\r\n\t\t\t\t\t\t\treturn response;\r\n\t\t\t\t\t\t})\t\t\t\t\t\t\r\n\t\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\t\tmessage.error(err);\r\n\t\t\t\t\t\t});\t\r\n}\r\n\r\nClientService.update = function (data) {\r\n\treturn axios.put(\"/api/v1/client/UpdateClient\", data)\r\n\t\t\t\t\t\t.then((response) => {\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tmessage.success(`Updated ${data.name} in client list`);\r\n\t\t\t\t\t\t\treturn response;\r\n\t\t\t\t\t\t})\t\t\t\t\t\t\r\n\t\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\t\tmessage.error(err);\r\n\t\t\t\t\t\t});\t\r\n}\r\n\r\nClientService.delete = function (id, name) {\r\n\treturn axios.get(`/api/v1/client/DeleteClient?id=${id}`)\r\n\t\t\t\t\t\t.then((response) => {\r\n\t\t\t\t\t\t\tconsole.log(\"client deleted\");\r\n\t\t\t\t\t\t\tmessage.success(`Deleted client ${name} from client list`);\r\n\t\t\t\t\t\t\treturn response;\r\n\t\t\t\t\t\t})\t\t\t\t\t\t\r\n\t\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\t\tconsole.log(\"delete err\"+err);\r\n\t\t\t\t\t\t\tmessage.error(err);\r\n\t\t\t\t\t\t});\t\r\n}\r\n\r\nexport default ClientService;"],"names":["rules","name","required","message","vat","companyNo","mailAddress","billAddress","ip","phone","email","primaryContact","props","param","form","idd","Option","Select","console","log","useState","checked","setChecked","mainId","setMainId","gutter","xs","sm","md","label","placeholder","valuePropName","onChange","e","target","setHidden","readonly","hidden","style","minWidth","onSelect","value","event","key","setFields","handleOnChange","map","client","id","rows","secContact","EDIT","useNavigate","useFetchClientsAndSites","data","status","isSuccess","ClientListData","OnlyClientListData","setOnlyClientListData","mode","Form","submitLoading","setSubmitLoading","setIdd","useEffect","clientData","filter","parseInt","setFieldsValue","layout","className","initialValues","heightUnit","widthUnit","weightUnit","PageHeaderAlt","overlap","Flex","mobileFlex","justifyContent","alignItems","onClick","type","validateFields","then","values","setTimeout","ClientService","catch","info","htmlType","loading","defaultActiveKey","marginTop","items","children","params","useParams","background","widthOffset","setWidthOffset","ref","useRef","navType","useSelector","state","theme","currentTheme","NAV_TYPE_TOP","windowSize","window","innerWidth","pageHeaderSize","current","offsetWidth","css","GRAY_SCALE","TEMPLATE","MEDIA_QUERIES","backgroundImage","marginRight","marginLeft","paddingLeft","paddingRight","getStyle","styled","flexDirection","gap","padding","margin","baseStyle","display","useQuery","axios","resp","response","err"],"sourceRoot":""}